import fs from 'fs'; const csv = fs.readFileSync('downloadbyjanos/REPORTING PARA BASE DE DATOS - Sheet1 (4).csv', 'utf8'); const lines = csv.split(/\r?\n/); const header = lines[0].split(','); const dateIdx = header.indexOf('DATE'); const buIdx = header.indexOf('BUISNESS UNIT'); const seen = new Set(); const duplicates = []; lines.slice(1).forEach((line, index) => { const cols = line.split(','); const date = cols[dateIdx]; const bu = cols[buIdx]; if (date && bu) { const key = date + '|' + bu; if (seen.has(key)) { duplicates.push({ index, key }); } seen.add(key); } }); console.log('Duplicates found:', duplicates.length); if (duplicates.length > 0) console.log(duplicates.slice(0, 5));
